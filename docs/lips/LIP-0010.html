<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="Rspress v1.45.0">
    <title data-rh="true">LEA Chain</title><meta data-rh="true" name="description" content="Technical Documentation for LEA Chain"/>
  <script>{;const saved = localStorage.getItem('rspress-theme-appearance');const preferDark = window.matchMedia('(prefers-color-scheme: dark)').matches;const isDark = !saved || saved === 'auto' ? preferDark : saved === 'dark';document.documentElement.classList.toggle('dark', isDark);document.documentElement.style.colorScheme = isDark ? 'dark' : 'light';}</script><link rel="icon" href="/logo.png"><script defer src="/static/js/styles.560c21a5.js"></script><script defer src="/static/js/lib-react.1eeaa575.js"></script><script defer src="/static/js/lib-router.2a966dcf.js"></script><script defer src="/static/js/162.f5f7bc06.js"></script><script defer src="/static/js/index.e6ebf3d4.js"></script><link href="/static/css/styles.e45a8283.css" rel="stylesheet"></head>

  <body >
    <div id="root"><div class="navContainer_d18b1 rspress-nav px-6  sticky_ddfa7"><div class="container_e4235 flex justify-between items-center h-full"><div class="navBarTitle_c5f07"><a href="/index.html" class="link_a7cea flex items-center w-full h-full text-base font-semibold transition-opacity duration-300 hover:opacity-60"><div class="mr-1 min-w-8"><img src="/logo.png" alt="logo" id="logo" class="rspress-logo dark:hidden"/><img src="/logo.png" alt="logo" id="logo" class="rspress-logo hidden dark:block"/></div></a></div><div class="flex flex-1 justify-end items-center"><div class="rightNav_a2fea"><div class="flex sm:flex-1 items-center sm:pl-4 sm:pr-2"><div class="rspress-nav-search-button navSearchButton_df1fb"><button><svg width="18" height="18" viewBox="0 0 32 32"><path fill="var(--rp-c-gray)" d="m29 27.586-7.552-7.552a11.018 11.018 0 1 0-1.414 1.414L27.586 29ZM4 13a9 9 0 1 1 9 9 9.01 9.01 0 0 1-9-9"></path></svg><p class="searchWord_af2c1">Search Docs</p><div style="opacity:0"><span></span><span>K</span></div></button></div><div class="mobileNavSearchButton_d85a9"><svg width="24" height="24" viewBox="0 0 32 32"><path fill="var(--rp-c-gray)" d="m29 27.586-7.552-7.552a11.018 11.018 0 1 0-1.414 1.414L27.586 29ZM4 13a9 9 0 1 1 9 9 9.01 9.01 0 0 1-9-9"></path></svg></div></div><div class="rspress-nav-menu menu h-14"><a href="/index.html" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154 activeItem_a28b5 text-sm font-medium mx-0.5 px-3 py-2 flex items-center">Home</div></a><a href="/guide.html" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154  text-sm font-medium mx-0.5 px-3 py-2 flex items-center">Guide</div></a><a href="/lips/index.html" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154 activeItem_a28b5 text-sm font-medium mx-0.5 px-3 py-2 flex items-center">LIPs</div></a><a href="/npm-module/index.html" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154  text-sm font-medium mx-0.5 px-3 py-2 flex items-center">NPM Module</div></a><a href="/tools/index.html" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154  text-sm font-medium mx-0.5 px-3 py-2 flex items-center">Tools</div></a><a href="/development/index.html" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154  text-sm font-medium mx-0.5 px-3 py-2 flex items-center">Development</div></a></div><div class="flex-center flex-row"><div class="mx-2"><div class="md:mr-2 rspress-nav-appearance"><div class="p-1 border border-solid border-gray-300 text-gray-400  cursor-pointer rounded-md hover:border-gray-600 hover:text-gray-600 dark:hover:border-gray-200 dark:hover:text-gray-200 transition-all duration-300 w-7 h-7"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 24 24" class="dark:hidden" width="18" height="18" fill="currentColor"><path d="M12 18c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6m0-10c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4M12 4c-.6 0-1-.4-1-1V1c0-.6.4-1 1-1s1 .4 1 1v2c0 .6-.4 1-1 1M12 24c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1s1 .4 1 1v2c0 .6-.4 1-1 1M5.6 6.6c-.3 0-.5-.1-.7-.3L3.5 4.9c-.4-.4-.4-1 0-1.4s1-.4 1.4 0l1.4 1.4c.4.4.4 1 0 1.4-.1.2-.4.3-.7.3M19.8 20.8c-.3 0-.5-.1-.7-.3l-1.4-1.4c-.4-.4-.4-1 0-1.4s1-.4 1.4 0l1.4 1.4c.4.4.4 1 0 1.4-.2.2-.5.3-.7.3M3 13H1c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1s-.4 1-1 1M23 13h-2c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1s-.4 1-1 1M4.2 20.8c-.3 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4l1.4-1.4c.4-.4 1-.4 1.4 0s.4 1 0 1.4l-1.4 1.4c-.2.2-.4.3-.7.3M18.4 6.6c-.3 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4l1.4-1.4c.4-.4 1-.4 1.4 0s.4 1 0 1.4l-1.4 1.4c-.2.2-.5.3-.7.3"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" viewBox="0 0 24 24" class="hidden dark:block" width="18" height="18" fill="currentColor"><path d="M12.1 22h-.9c-5.5-.5-9.5-5.4-9-10.9.4-4.8 4.2-8.6 9-9 .4 0 .8.2 1 .5s.2.8-.1 1.1c-2 2.7-1.4 6.4 1.3 8.4 2.1 1.6 5 1.6 7.1 0 .3-.2.7-.3 1.1-.1.3.2.5.6.5 1-.2 2.7-1.5 5.1-3.6 6.8-1.9 1.4-4.1 2.2-6.4 2.2M9.3 4.4c-2.9 1-5 3.6-5.2 6.8-.4 4.4 2.8 8.3 7.2 8.7 2.1.2 4.2-.4 5.8-1.8 1.1-.9 1.9-2.1 2.4-3.4-2.5.9-5.3.5-7.5-1.1-2.8-2.2-3.9-5.9-2.7-9.2"></path></svg></div></div></div><div class="social-links menu-item_e90a6 flex-center relative"><div class="flex-center h-full gap-x-4 transition-colors duration-300 md:mr-2"><a href="https://github.com/web-infra-dev/rspress" target="_blank" rel="noopener noreferrer" class="social-links"><div class="social-links-icon_a4ad0"><div><svg xmlns="http://www.w3.org/2000/svg" width="100%" viewBox="0 0 24 24"><path fill="currentColor" d="M12 .297c-6.63 0-12 5.373-12 12c0 5.303 3.438 9.8 8.205 11.385c.6.113.82-.258.82-.577c0-.285-.01-1.04-.015-2.04c-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729c1.205.084 1.838 1.236 1.838 1.236c1.07 1.835 2.809 1.305 3.495.998c.108-.776.417-1.305.76-1.605c-2.665-.3-5.466-1.332-5.466-5.93c0-1.31.465-2.38 1.235-3.22c-.135-.303-.54-1.523.105-3.176c0 0 1.005-.322 3.3 1.23c.96-.267 1.98-.399 3-.405c1.02.006 2.04.138 3 .405c2.28-1.552 3.285-1.23 3.285-1.23c.645 1.653.24 2.873.12 3.176c.765.84 1.23 1.91 1.23 3.22c0 4.61-2.805 5.625-5.475 5.92c.42.36.81 1.096.81 2.22c0 1.606-.015 2.896-.015 3.286c0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></div></div></a></div></div></div></div><div class="mobileNavMenu_e7045"><div class="navScreen_ec30c  rspress-nav-screen" id="navScreen"><div class="container_c935d"><div class="navMenu_b887b"><div class="navMenuItem_e7978 w-full"><a href="/index.html" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154 activeItem_a28b5 text-sm font-medium mx-1.5 px-3 py-2 flex items-center">Home</div></a></div><div class="navMenuItem_e7978 w-full"><a href="/guide.html" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">Guide</div></a></div><div class="navMenuItem_e7978 w-full"><a href="/lips/index.html" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154 activeItem_a28b5 text-sm font-medium mx-1.5 px-3 py-2 flex items-center">LIPs</div></a></div><div class="navMenuItem_e7978 w-full"><a href="/npm-module/index.html" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">NPM Module</div></a></div><div class="navMenuItem_e7978 w-full"><a href="/tools/index.html" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">Tools</div></a></div><div class="navMenuItem_e7978 w-full"><a href="/development/index.html" class="link_a7cea "><div class="rspress-nav-menu-item singleItem_c1154  text-sm font-medium mx-1.5 px-3 py-2 flex items-center">Development</div></a></div></div><div class="flex-center flex-col gap-2"><div class="mt-2 navAppearance_bf893 flex justify-center"></div><div class="social-links menu-item_e90a6 flex-center relative"><div class="flex-center h-full gap-x-4 transition-colors duration-300 md:mr-2"><a href="https://github.com/web-infra-dev/rspress" target="_blank" rel="noopener noreferrer" class="social-links"><div class="social-links-icon_a4ad0"><div><svg xmlns="http://www.w3.org/2000/svg" width="100%" viewBox="0 0 24 24"><path fill="currentColor" d="M12 .297c-6.63 0-12 5.373-12 12c0 5.303 3.438 9.8 8.205 11.385c.6.113.82-.258.82-.577c0-.285-.01-1.04-.015-2.04c-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729c1.205.084 1.838 1.236 1.838 1.236c1.07 1.835 2.809 1.305 3.495.998c.108-.776.417-1.305.76-1.605c-2.665-.3-5.466-1.332-5.466-5.93c0-1.31.465-2.38 1.235-3.22c-.135-.303-.54-1.523.105-3.176c0 0 1.005-.322 3.3 1.23c.96-.267 1.98-.399 3-.405c1.02.006 2.04.138 3 .405c2.28-1.552 3.285-1.23 3.285-1.23c.645 1.653.24 2.873.12 3.176c.765.84 1.23 1.91 1.23 3.22c0 4.61-2.805 5.625-5.475 5.92c.42.36.81 1.096.81 2.22c0 1.606-.015 2.896-.015 3.286c0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></div></div></a></div></div></div></div></div><button aria-label="mobile hamburger" class=" rspress-mobile-hamburger navHamburger_ac64c text-gray-500"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" fill="currentColor"><circle cx="8" cy="16" r="2" fill="currentColor"></circle><circle cx="16" cy="16" r="2" fill="currentColor"></circle><circle cx="24" cy="16" r="2" fill="currentColor"></circle></svg></button></div></div></div></div><section><div class="docLayout_af141 pt-0"><aside class="sidebar_dd719 rspress-sidebar "><div class="navTitleMask_fb17c"><div class="navBarTitle_c5f07"><a href="/index.html" class="link_a7cea flex items-center w-full h-full text-base font-semibold transition-opacity duration-300 hover:opacity-60"><div class="mr-1 min-w-8"><img src="/logo.png" alt="logo" id="logo" class="rspress-logo dark:hidden"/><img src="/logo.png" alt="logo" id="logo" class="rspress-logo hidden dark:block"/></div></a></div></div><div class="rspress-scrollbar sidebarContent_da296"><nav class="pb-2"><a href="/lips/index.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:14px;margin-left:0;border-radius:0 var(--rp-radius) var(--rp-radius) 0;padding-left:24px;font-weight:bold"><span>LIPs Index</span></div></a><section class="rspress-sidebar-section mt-0.5 block" style="margin-left:0"><div class="rspress-sidebar-collapse flex justify-between items-center menuItem_ac22e" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center" style="font-size:14px">Meta/Process</span></h2><div class="collapseContainer_d6e4e p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(90deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:1;margin-left:12px"><div class="rspress-sidebar-item"><a href="/lips/LIP-0003.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>LIP-0003: LIP Structure and Process</span></div></a></div></div></div></section><section class="rspress-sidebar-section mt-0.5 block" style="margin-left:0"><div class="rspress-sidebar-collapse flex justify-between items-center menuItem_ac22e" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center" style="font-size:14px">Core Encoding</span></h2><div class="collapseContainer_d6e4e p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(90deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:1;margin-left:12px"><div class="rspress-sidebar-item"><a href="/lips/LIP-0006.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>LIP-0006: Replace Core Transaction Encoding (CTE) with Simple Compact Transaction Protocol (SCTP)</span></div></a></div></div></div></section><section class="rspress-sidebar-section mt-0.5 block" style="margin-left:0"><div class="rspress-sidebar-collapse flex justify-between items-center menuItem_ac22e" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center" style="font-size:14px">Application</span></h2><div class="collapseContainer_d6e4e p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(90deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:1;margin-left:12px"><div class="rspress-sidebar-item"><a href="/lips/LIP-0007.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>LIP-0007: Genesis LEA Transaction Decoder Format</span></div></a></div><div class="rspress-sidebar-item"><a href="/lips/LIP-0008.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>LIP-0008: LEA WebAssembly VM&#x27;s Supported Features</span></div></a></div><div class="rspress-sidebar-item"><a href="/lips/LIP-0010.html" class="link_a7cea menuLink_bb039"><div class="menuItemActive_de63c mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>LIP-0010: LEA Transaction Manifest (LTM)</span></div></a></div><div class="rspress-sidebar-item"><a href="/lips/LIP-0011.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>LIP-0011: LEA Public Key Module Interface (LEA-PKMI)</span></div></a></div><div class="rspress-sidebar-item"><a href="/lips/LIP-0012.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>LIP-0012: LEA Keyset File Format</span></div></a></div></div></div></section><section class="rspress-sidebar-section mt-0.5 block" style="margin-left:0"><div class="rspress-sidebar-collapse flex justify-between items-center menuItem_ac22e" style="border-radius:0 var(--rp-radius) var(--rp-radius) 0;cursor:pointer"><h2 class="py-2 px-3 text-sm font-medium flex" style="font-size:14px;padding-left:24px;font-weight:bold"><span class="flex-center" style="font-size:14px">Consensus</span></h2><div class="collapseContainer_d6e4e p-2 rounded-xl"><div style="cursor:pointer;transition:transform 0.2s ease-out;transform:rotate(90deg)"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></div></div><div class="transition-all duration-300 ease-in-out" style="overflow:hidden"><div class="rspress-sidebar-group transition-opacity duration-500 ease-in-out" style="opacity:1;margin-left:12px"><div class="rspress-sidebar-item"><a href="/lips/LIP-0009.html" class="link_a7cea menuLink_bb039"><div class="menuItem_ac22e mt-0.5 py-2 px-3 font-medium flex" style="font-size:13px;margin-left:18px;border-radius:0 var(--rp-radius) var(--rp-radius) 0"><span>LIP-0009: Programmable Transaction Format</span></div></a></div></div></div></section></nav></div></aside><div class="flex-1 relative min-w-0"><div class="rspress-sidebar-menu-container "><div class="rspress-sidebar-menu"><button type="button" class="flex-center mr-auto"><div class="text-md mr-2"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M4 6h24v2H4zm0 18h24v2H4zm0-12h24v2H4zm0 6h24v2H4z"></path></svg></div><span class="text-sm">Menu</span></button><button type="button" class="flex-center ml-auto"><span class="text-sm">ON THIS PAGE</span><div class="text-md mr-2" style="transform:rotate(0deg);transition:transform 0.2s ease-out;margin-top:2px"><svg width="1em" height="1em" viewBox="0 0 32 32"><path fill="currentColor" d="M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"></path></svg></div></button><div class="rspress-local-toc-container "><ul><li><a href="#abstract" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:0"><span class="rspress-toc-link-text block">Abstract</span></a></li><li><a href="#motivation" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:0"><span class="rspress-toc-link-text block">Motivation</span></a></li><li><a href="#specification" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:0"><span class="rspress-toc-link-text block">Specification</span></a></li><li><a href="#1-top-level-structure" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">1. Top-Level Structure</span></a></li><li><a href="#2-signers-object" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">2. <code>signers</code> Object</span></a></li><li><a href="#3-constants-object" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">3. <code>constants</code> Object</span></a></li><li><a href="#4-invocations-array" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">4. <code>invocations</code> Array</span></a></li><li><a href="#5-address-vector-and-signature-assembly" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">5. Address Vector and Signature Assembly</span></a></li><li><a href="#6-instructions-array" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">6. <code>instructions</code> Array</span></a></li><li><a href="#7-placeholder-syntax-for-dynamic-data" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">7. Placeholder Syntax for Dynamic Data</span></a></li><li><a href="#text-to-binary-decoding" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">Text-to-Binary Decoding</span></a></li><li><a href="#8-general-schema-rules" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">8. General Schema Rules</span></a></li><li><a href="#field-naming-and-case-sensitivity" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">Field Naming and Case Sensitivity</span></a></li><li><a href="#comments" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:24px"><span class="rspress-toc-link-text block">Comments</span></a></li><li><a href="#9-data-type-handling" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">9. Data Type Handling</span></a></li><li><a href="#full-example" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:12px"><span class="rspress-toc-link-text block">Full Example</span></a></li><li><a href="#rationale" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:0"><span class="rspress-toc-link-text block">Rationale</span></a></li><li><a href="#tooling-recommendations" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:0"><span class="rspress-toc-link-text block">Tooling Recommendations</span></a></li><li><a href="#backwards-compatibility" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:0"><span class="rspress-toc-link-text block">Backwards Compatibility</span></a></li><li><a href="#security-considerations" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:0"><span class="rspress-toc-link-text block">Security Considerations</span></a></li><li><a href="#copyright" class="link_a7cea rspress-toc-link sm:text-normal text-sm" style="margin-left:0"><span class="rspress-toc-link-text block">Copyright</span></a></li></ul></div></div></div><div class="content_ff766 rspress-doc-container flex"><div class="flex-1 overflow-x-auto"><div class="rspress-doc"><!--$--><ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">LIP: 10</strong></li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Layer: Application</strong></li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Title: LEA Transaction Manifest (LTM)</strong></li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Author: Allwin Ketnawang</strong></li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Created: 2025-07-15</strong></li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Requires: 7</strong></li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Status: Proposed</strong></li>
</ul>
<h2 id="abstract" class="mt-12 mb-6 pt-8 text-2xl tracking-tight border-t-[1px] border-divider-light title_fb7eb">Abstract<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#abstract">#</a></h2>
<p class="my-4 leading-7">This LIP proposes the LEA Transaction Manifest (LTM), a standardized, declarative JSON format for defining LEA transactions. The LTM schema is designed to abstract away the complexities of binary serialization, allowing developers and users to define complex transactions in a human-readable and reusable manner. It provides a robust system for sourcing data dynamically from the local file system and other data structures. The primary goal of LTM is to make transaction creation simpler, safer, and more transparent, separating the definition of a transaction&#x27;s data from the logic of its binary encoding.</p>
<h2 id="motivation" class="mt-12 mb-6 pt-8 text-2xl tracking-tight border-t-[1px] border-divider-light title_fb7eb">Motivation<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#motivation">#</a></h2>
<p class="my-4 leading-7">The process of creating a valid LEA transaction, as defined in LIP-7, requires precise binary encoding using the Simple Compact Transaction Protocol (SCTP). Constructing this binary stream programmatically is a low-level task that is verbose, error-prone, and requires custom scripting for each new type of transaction. This approach tightly couples the transaction&#x27;s data with the application logic, making it difficult to manage, reuse, or audit transaction definitions.</p>
<p class="my-4 leading-7">The LEA Transaction Manifest (LTM) introduces a declarative layer that solves this problem. By defining a transaction in a structured JSON format, users can clearly specify all its components (such as signers, gas parameters, and contract invocations) without writing any encoding logic. The LTM format is designed to be processed by a build tool that handles all the underlying complexities of data resolution, SCTP encoding, hashing, and signing. This separation of concerns dramatically simplifies the user experience, reduces the risk of malformed transactions, and promotes the creation of reusable transaction templates.</p>
<h2 id="specification" class="mt-12 mb-6 pt-8 text-2xl tracking-tight border-t-[1px] border-divider-light title_fb7eb">Specification<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#specification">#</a></h2>
<p class="my-4 leading-7">A LEA Transaction Manifest is a JSON file that adheres to the following structure. The file must be parsed by a tool that can safely handle large integers to prevent precision loss.</p>
<h3 id="1-top-level-structure" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">1. Top-Level Structure<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#1-top-level-structure">#</a></h3>
<p class="my-4 leading-7">The LTM is a single JSON object with the following root fields. The <code>version</code> field, specified as the first field in the LIP-7 binary format, is intentionally excluded. The build tool that processes the manifest is responsible for automatically prepending the protocol version (<code>1</code>) during binary serialization.</p>
<table class="block border-collapse text-base my-5 overflow-x-auto leading-7 border-gray-light-3 dark:border-divider">
<thead>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<th align="left" class="border border-solid px-4 py-2 text-text-1 text-base font-semibold border-gray-light-3 dark:border-divider">Field</th>
<th align="left" class="border border-solid px-4 py-2 text-text-1 text-base font-semibold border-gray-light-3 dark:border-divider">Type</th>
<th align="left" class="border border-solid px-4 py-2 text-text-1 text-base font-semibold border-gray-light-3 dark:border-divider">Required</th>
<th align="left" class="border border-solid px-4 py-2 text-text-1 text-base font-semibold border-gray-light-3 dark:border-divider">Description</th>
</tr>
</thead>
<tbody>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>sequence</code></td>
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">Number or String</td>
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">Yes</td>
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">The sequence number (nonce) for the fee-paying signer.</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>feePayer</code></td>
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">String</td>
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">Yes</td>
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">The name of the signer who will pay the transaction fees. Must match a key in the <code>signers</code> object.</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>gasLimit</code></td>
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">Number or String</td>
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">Yes</td>
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">The maximum gas units the transaction can consume.</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>gasPrice</code></td>
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">Number or String</td>
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">Yes</td>
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">The price per gas unit.</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>outputFile</code></td>
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">String</td>
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">No</td>
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">The file path where the final binary transaction will be written. If omitted when using the CLI, the binary output is written to <code>stdout</code>. This field is ignored when used as a module.</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>constants</code></td>
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">Object</td>
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">No</td>
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">An object defining reusable values that can be referenced elsewhere in the manifest.</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>signers</code></td>
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">Object</td>
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">Yes</td>
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">An object defining the one or more signers for the transaction.</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>invocations</code></td>
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">Array</td>
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">Yes</td>
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">An array of one or more invocation objects.</td>
</tr>
</tbody>
</table>
<h3 id="2-signers-object" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">2. <code>signers</code> Object<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#2-signers-object">#</a></h3>
<p class="my-4 leading-7">The <code>signers</code> object contains one or more key-value pairs, where each key is a unique, user-defined name for the signer (e.g., <code>mainAccount</code>, <code>alice</code>). This name is used to reference the signer in the <code>feePayer</code> field and in <code>$signer()</code> placeholders.</p>
<p class="my-4 leading-7">The value for each signer can be one of two types:</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">File Path (String):</strong> A string containing the relative path to a LEA Keyset file. The file <strong class="font-semibold">MUST</strong> conform to the format defined in <strong class="font-semibold">LIP-12: LEA Keyset File Format</strong>.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Keyset Object (Array):</strong> A direct JSON array conforming to the LIP-12 keyset structure. This is primarily for programmatic use when the LTM is used as a library/module.</li>
</ul>
<p class="my-4 leading-7">A build tool resolves these values to load the cryptographic keys needed for signing.</p>
<p class="my-4 leading-7"><strong class="font-semibold">Example:</strong></p>
<div class="language-json"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-json" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-parameter)">&quot;signers&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-parameter)">&quot;alice&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;./keys/alice.keyset.json&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-parameter)">&quot;bob&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;./keys/bob.keyset.json&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-parameter)">&quot;ephemeral&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span> </span><span class="token number">1</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> </span><span class="token number">2</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> </span><span class="token number">3</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> ...</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> </span><span class="token number">64</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span> </span><span class="token number">101</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> </span><span class="token number">102</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> </span><span class="token number">103</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> ...</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> </span><span class="token number">164</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">]</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span> </span><span class="token number">201</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> </span><span class="token number">202</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> </span><span class="token number">203</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> ...</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> </span><span class="token number">232</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">]</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">]</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">]</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<h3 id="3-constants-object" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">3. <code>constants</code> Object<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#3-constants-object">#</a></h3>
<p class="my-4 leading-7">This optional top-level object allows you to define key-value pairs for reusable values. These constants can be referenced in other parts of the manifest using the <code>$const()</code> placeholder. This is useful for reducing repetition and improving maintainability.</p>
<p class="my-4 leading-7"><strong class="font-semibold">Example:</strong></p>
<div class="language-json"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-json" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-parameter)">&quot;constants&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-parameter)">&quot;tokenProgram&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;a1b2c3d4e5f6...&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-parameter)">&quot;USER_REGISTRATION_ID&quot;</span><span class="token operator">:</span><span> </span><span class="token number">5</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<h3 id="4-invocations-array" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">4. <code>invocations</code> Array<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#4-invocations-array">#</a></h3>
<p class="my-4 leading-7">The <code>invocations</code> array contains one or more objects, each representing a single call to a smart contract.</p>
<table class="block border-collapse text-base my-5 overflow-x-auto leading-7 border-gray-light-3 dark:border-divider">
<thead>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<th align="left" class="border border-solid px-4 py-2 text-text-1 text-base font-semibold border-gray-light-3 dark:border-divider">Field</th>
<th align="left" class="border border-solid px-4 py-2 text-text-1 text-base font-semibold border-gray-light-3 dark:border-divider">Type</th>
<th align="left" class="border border-solid px-4 py-2 text-text-1 text-base font-semibold border-gray-light-3 dark:border-divider">Required</th>
<th align="left" class="border border-solid px-4 py-2 text-text-1 text-base font-semibold border-gray-light-3 dark:border-divider">Description</th>
</tr>
</thead>
<tbody>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>targetAddress</code></td>
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">String</td>
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">Yes</td>
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">The 32-byte hex address of the target contract. Can be a literal or use a placeholder.</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>instructions</code></td>
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">Array</td>
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">Yes</td>
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">An array defining the instruction payload to be sent to the target.</td>
</tr>
</tbody>
</table>
<h3 id="5-address-vector-and-signature-assembly" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">5. Address Vector and Signature Assembly<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#5-address-vector-and-signature-assembly">#</a></h3>
<p class="my-4 leading-7">A compliant LTM build tool <strong class="font-semibold">MUST</strong> follow a strict, deterministic algorithm to assemble the final <code>addresses</code> vector and <code>signatures</code> list for the binary transaction defined in LIP-7.</p>
<p class="my-4 leading-7">The following algorithm MUST be used:</p>
<ol class="list-decimal pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Resolve Placeholders and Collect Addresses:</strong>
a. A build tool MUST first perform a full resolution of all placeholders in the manifest, including chained placeholders (e.g., <code>$addr($const(user))</code>). It MUST detect and fail if a circular dependency is found.
b. During or after resolution, create a set to store all unique 32-byte addresses required for the transaction. This automatically handles de-duplication as required by LIP-7.
c. Add the addresses of all signers defined in the <code>signers</code> object to the set.
d. Add the fully-resolved <code>targetAddress</code> from each object in the <code>invocations</code> array to the set.
e. Add the fully-resolved address from any <code>$addr()</code> placeholder to the set.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Identify Fee Payer:</strong> The signer name specified in the <code>feePayer</code> field is the fee payer.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Build the Final <code>addresses</code> Vector:</strong> The final vector is assembled using a deterministic, three-tiered sorting algorithm to ensure stability and predictability.
a. <strong class="font-semibold">Group 1 (Fee Payer):</strong> The fee payer&#x27;s address is the <strong class="font-semibold">first</strong> address in the vector (index 0).
b. <strong class="font-semibold">Group 2 (Other Signers):</strong> The addresses of all other signers (excluding the fee payer) are sorted amongst themselves based on their 32-byte binary lexicographical value. These are appended to the vector after the fee payer.
c. <strong class="font-semibold">Group 3 (Non-Signer Addresses):</strong> All remaining unique addresses from the set (i.e., non-signers) are sorted amongst themselves based on their 32-byte binary lexicographical value. These are appended last.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Resolve <code>$addr()</code> to Index:</strong> After the final <code>addresses</code> vector is constructed, replace every <code>$addr()</code> placeholder string with the final numeric index of its corresponding address in the vector. This final number is then encoded according to the instruction&#x27;s integer type.</li>
</ol>
<p class="my-4 leading-7">The resulting ordered list is the final <code>addresses</code> vector for the transaction. The signatures in the binary output MUST correspond to the signer addresses in the exact same order as they appear in the final vector (fee payer first, then the other signers sorted by their binary address).</p>
<h3 id="6-instructions-array" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">6. <code>instructions</code> Array<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#6-instructions-array">#</a></h3>
<p class="my-4 leading-7">This array defines the sequence of data fields that constitute the instruction payload. Each element in the array is an object with a <strong class="font-semibold">single key</strong>, where the key is the SCTP type (e.g., <code>vector</code>, <code>uleb</code>) and the value is the data to be encoded.</p>
<h3 id="7-placeholder-syntax-for-dynamic-data" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">7. Placeholder Syntax for Dynamic Data<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#7-placeholder-syntax-for-dynamic-data">#</a></h3>
<p class="my-4 leading-7">To enable dynamic data sourcing, LTM values can use a function-like placeholder syntax: <code>$&lt;source&gt;(&lt;value&gt;)</code>. Placeholders can be chained (nested), and a build tool MUST support this.</p>
<table class="block border-collapse text-base my-5 overflow-x-auto leading-7 border-gray-light-3 dark:border-divider">
<thead>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<th align="left" class="border border-solid px-4 py-2 text-text-1 text-base font-semibold border-gray-light-3 dark:border-divider">Placeholder Syntax</th>
<th align="left" class="border border-solid px-4 py-2 text-text-1 text-base font-semibold border-gray-light-3 dark:border-divider">Example</th>
<th align="left" class="border border-solid px-4 py-2 text-text-1 text-base font-semibold border-gray-light-3 dark:border-divider">Description</th>
</tr>
</thead>
<tbody>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>$const(&lt;key&gt;)</code></td>
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>&quot;$const(tokenProgram)&quot;</code></td>
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">Retrieves a value from the <code>constants</code> object.</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>$signer(&lt;name&gt;.&lt;key&gt;)</code></td>
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>&quot;$signer(main.address)&quot;</code></td>
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">Retrieves a derived value from a named signer. Valid keys are <code>ed25519Pk</code>, <code>sphincsPk</code>, and <code>address</code>.</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>$addr(&lt;source&gt;[#&lt;fmt&gt;])</code></td>
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>&quot;$addr($const(user))&quot;</code></td>
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">A special placeholder for integer types (<code>uleb</code>, <code>uint8</code>, etc.) that resolves an address source to its final index in the transaction&#x27;s address vector. The <code>&lt;source&gt;</code> can be a literal string or another placeholder. The optional <code>fmt</code> (<code>hex</code> or <code>bech32m</code>) specifies how to interpret the resolved source string. Defaults to <code>bech32m</code>.</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>$file(&lt;path&gt;)</code></td>
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>&quot;$file(./payload.bin)&quot;</code></td>
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">Reads the raw binary content of a file. The value is a byte array.</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>$hex(&lt;hex_string&gt;)</code></td>
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>&quot;$hex(deadbeef0123)&quot;</code></td>
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">Interprets a literal string as a hexadecimal byte sequence. The value is a byte array.</td>
</tr>
<tr class="border border-solid transition-colors duration-500 even:bg-soft border-gray-light-3 dark:border-divider">
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>$json(&lt;path&gt;#&lt;path&gt;[#&lt;fmt&gt;])</code></td>
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider"><code>&quot;$json(./cfg.json#profile.id#hex)&quot;</code></td>
<td align="left" class="border border-solid px-4 py-2 border-gray-light-3 dark:border-divider">Parses a JSON file and extracts a value using a dot-separated path. The path is a dot-separated sequence of keys used to extract a value from a nested JSON object (e.g., <code>data.user.id</code>). This simple pathing does not support array indexing or advanced query expressions. If the extracted value is a string and a <code>fmt</code> (<code>hex</code> or <code>bech32m</code>) is provided, it is decoded into a byte array. Otherwise, the raw JSON value (string, number) is used.</td>
</tr>
</tbody>
</table>
<h4 id="text-to-binary-decoding" class="mt-8 leading-6 text-lg title_fb7eb">Text-to-Binary Decoding<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#text-to-binary-decoding">#</a></h4>
<p class="my-4 leading-7">For placeholders like <code>$json</code> that produce string outputs, the <code>#hex</code> and <code>#bech32m</code> format specifiers can be used to decode the final string into a raw byte array. This is required when the instruction field is a <code>vector</code>.</p>
<h3 id="8-general-schema-rules" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">8. General Schema Rules<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#8-general-schema-rules">#</a></h3>
<h4 id="field-naming-and-case-sensitivity" class="mt-8 leading-6 text-lg title_fb7eb">Field Naming and Case Sensitivity<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#field-naming-and-case-sensitivity">#</a></h4>
<p class="my-4 leading-7">All field names defined in this specification are <strong class="font-semibold">case-sensitive</strong> and <strong class="font-semibold">MUST</strong> be written in <code>camelCase</code>. An LTM parsing tool must reject any manifest that uses a different case or format (e.g., <code>snake_case</code> or <code>kebab-case</code>) for official field names.</p>
<h4 id="comments" class="mt-8 leading-6 text-lg title_fb7eb">Comments<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#comments">#</a></h4>
<p class="my-4 leading-7">JSON does not natively support comments. To allow for inline documentation, any JSON object within an LTM file may include a field with the key <code>comment</code>. An LTM tool <strong class="font-semibold">MUST</strong> completely ignore this field and its value during processing.</p>
<p class="my-4 leading-7"><strong class="font-semibold">Example:</strong></p>
<div class="language-json"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-json" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-parameter)">&quot;uleb&quot;</span><span class="token operator">:</span><span> </span><span class="token number">5</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-parameter)">&quot;comment&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;Instruction ID 5 is for user registration.&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<h3 id="9-data-type-handling" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">9. Data Type Handling<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#9-data-type-handling">#</a></h3>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Literals:</strong> Values without placeholders are treated as literals (e.g., <code>123</code>, <code>&quot;hello&quot;</code>).</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Large Integers:</strong> The JSON specification allows for numbers of arbitrary precision. However, many standard parsers (like JavaScript&#x27;s native <code>JSON.parse()</code>) will truncate large integer values, leading to silent data corruption. Therefore, it is a strict requirement that any compliant LTM implementation <strong class="font-semibold">MUST</strong> use a parser that preserves the full precision of all numeric literals, converting them to a <code>BigInt</code> or an equivalent lossless type. While a compliant tool must handle unquoted large numbers safely, providing them as strings (e.g., <code>&quot;18446744073709551615&quot;</code>) remains a recommended best practice to ensure maximum compatibility across different platforms and tools.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Programmable Use:</strong> When used as a library, an LTM build tool should provide maximum flexibility by accepting direct JavaScript types for instruction fields. This includes <code>Uint8Array</code> for vector types, <code>BigInt</code> for large integer types (e.g., <code>uint64</code>, <code>sleb</code>), and standard <code>Number</code> for smaller integer and float types (e.g., <code>uint32</code>, <code>float64</code>). The tool is responsible for validating that a provided <code>Number</code> is within the valid and safe range for its target SCTP type.</li>
</ul>
<h3 id="full-example" class="mt-10 mb-2 leading-7 text-xl title_fb7eb">Full Example<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#full-example">#</a></h3>
<div class="language-json"><div class="rspress-code-content rspress-scrollbar"><div><pre class="code" style="background-color:inherit"><code class="language-json" style="white-space:pre"><span style="display:block;padding:0 1.25rem"><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-parameter)">&quot;comment&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;This transaction registers a new user and transfers an initial credit.&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-parameter)">&quot;sequence&quot;</span><span class="token operator">:</span><span> </span><span class="token number">2</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-parameter)">&quot;feePayer&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;registrar&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-parameter)">&quot;gasLimit&quot;</span><span class="token operator">:</span><span> </span><span class="token number">500000</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-parameter)">&quot;gasPrice&quot;</span><span class="token operator">:</span><span> </span><span class="token number">10</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-parameter)">&quot;outputFile&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;./register-user.tx.bin&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-parameter)">&quot;constants&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-parameter)">&quot;contract&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2c3d4e5f6a1b2&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-parameter)">&quot;registrationId&quot;</span><span class="token operator">:</span><span> </span><span class="token number">1</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-parameter)">&quot;transferId&quot;</span><span class="token operator">:</span><span> </span><span class="token number">2</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-parameter)">&quot;recipient&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;lea1qys33pduaxmjwsg329z2yotg5j222q8g2f53g6&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-parameter)">&quot;signers&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-parameter)">&quot;auditor&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;./keys/auditor.keyset.json&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-parameter)">&quot;registrar&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;./keys/registrar.keyset.json&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-parameter)">&quot;invocations&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;targetAddress&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;$const(contract)&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;instructions&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>          </span><span class="token" style="color:var(--code-token-parameter)">&quot;uleb&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;$const(registrationId)&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>          </span><span class="token" style="color:var(--code-token-parameter)">&quot;comment&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;Instruction ID 1 is for registering a new user.&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> </span><span class="token" style="color:var(--code-token-parameter)">&quot;vector&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;$json(./user-data.json#profile.username)&quot;</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> </span><span class="token" style="color:var(--code-token-parameter)">&quot;uint64&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;9876543210&quot;</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> </span><span class="token" style="color:var(--code-token-parameter)">&quot;vector&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;$signer(registrar.address)&quot;</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-punctuation)">]</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;targetAddress&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;$const(contract)&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-parameter)">&quot;instructions&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">[</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>          </span><span class="token" style="color:var(--code-token-parameter)">&quot;uleb&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;$const(transferId)&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>          </span><span class="token" style="color:var(--code-token-parameter)">&quot;comment&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;Instruction ID 2 is for transferring credits.&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>          </span><span class="token" style="color:var(--code-token-parameter)">&quot;uint8&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;$addr($const(recipient))&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>          </span><span class="token" style="color:var(--code-token-parameter)">&quot;comment&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;The recipient is identified by their address, resolved to an index.&quot;</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>        </span><span class="token" style="color:var(--code-token-punctuation)">{</span><span> </span><span class="token" style="color:var(--code-token-parameter)">&quot;uint64&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;1000&quot;</span><span class="token" style="color:var(--code-token-punctuation)">,</span><span> </span><span class="token" style="color:var(--code-token-parameter)">&quot;comment&quot;</span><span class="token operator">:</span><span> </span><span class="token" style="color:var(--code-token-string)">&quot;Transfer 1000 credit units.&quot;</span><span> </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>      </span><span class="token" style="color:var(--code-token-punctuation)">]</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>    </span><span class="token" style="color:var(--code-token-punctuation)">}</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span>  </span><span class="token" style="color:var(--code-token-punctuation)">]</span><span>
</span></span><span style="display:block;padding:0 1.25rem"><span></span><span class="token" style="color:var(--code-token-punctuation)">}</span></span></code></pre></div><div class="code-button-group_fb445"><button title="Toggle code wrap"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrapped_fb89b"><path fill="#22a041" d="M21 5H3v2h18zM3 19h7v-2H3zm0-6h15c1 0 2 .43 2 2s-1 2-2 2h-2v-2l-4 3 4 3v-2h2c2.95 0 4-1.27 4-4 0-2.72-1-4-4-4H3z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" class="icon-wrap_ccd3d"><path fill="currentColor" d="M16 7H3V5h13zM3 19h13v-2H3zm19-7-4-3v2H3v2h15v2z"></path></svg></button><button class="code-copy-button_c5089" title="Copy code"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 30 30" class="icon-copy_ef942"><path fill="currentColor" d="M28 10v18H10V10zm0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2"></path><path fill="currentColor" d="M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z"></path></svg><svg width="32" height="32" viewBox="0 0 30 30" class="icon-success_d5ec0"><path fill="#49cd37" d="m13 24-9-9 1.414-1.414L13 21.171 26.586 7.586 28 9z"></path></svg></button></div></div></div>
<h2 id="rationale" class="mt-12 mb-6 pt-8 text-2xl tracking-tight border-t-[1px] border-divider-light title_fb7eb">Rationale<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#rationale">#</a></h2>
<p class="my-4 leading-7">The design of the LTM is guided by the principles of clarity, safety, and flexibility.</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">JSON as a Base:</strong> JSON is ubiquitous, human-readable, and supported by virtually all programming languages, making it an ideal foundation.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Declarative Approach:</strong> By defining <em>what</em> the transaction should contain rather than <em>how</em> to build it, the manifest separates concerns. This simplifies the user&#x27;s task and allows the underlying build tool to be optimized independently.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Placeholder System:</strong> A simple, consistent placeholder syntax (<code>$source(...)</code>) provides powerful and explicit data sourcing capabilities. This avoids the need for complex templating languages while enabling composition from files and other data sources.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Single-Key Instruction Objects:</strong> Using <code>{ &quot;type&quot;: &quot;value&quot; }</code> for instructions is concise and less verbose than <code>{ &quot;type&quot;: &quot;type&quot;, &quot;value&quot;: &quot;value&quot; }</code>, making the manifest cleaner and easier to read.</li>
</ul>
<h2 id="tooling-recommendations" class="mt-12 mb-6 pt-8 text-2xl tracking-tight border-t-[1px] border-divider-light title_fb7eb">Tooling Recommendations<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#tooling-recommendations">#</a></h2>
<p class="my-4 leading-7">To improve the developer experience and provide better debugging capabilities, this specification recommends that a compliant LTM build tool implement the following features.</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Dry Run / Debug Mode:</strong> A tool <strong class="font-semibold">SHOULD</strong> provide a &quot;dry run&quot; or &quot;debug&quot; flag (e.g., <code>--resolve-only</code>). When enabled, this mode would perform all placeholder resolution and validation steps and then output the fully resolved JSON manifest, with all placeholders replaced by their final values. It would stop before performing binary serialization or signing. This provides an invaluable mechanism for developers to inspect the final, resolved data and verify its correctness before creating the transaction.</li>
</ul>
<h2 id="backwards-compatibility" class="mt-12 mb-6 pt-8 text-2xl tracking-tight border-t-[1px] border-divider-light title_fb7eb">Backwards Compatibility<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#backwards-compatibility">#</a></h2>
<p class="my-4 leading-7">The LEA Transaction Manifest is a new, additive standard for tooling and application-layer development. It does not propose any changes to the underlying transaction format defined in LIP-7 or any other core protocol rule. Therefore, it introduces no backwards compatibility issues.</p>
<h2 id="security-considerations" class="mt-12 mb-6 pt-8 text-2xl tracking-tight border-t-[1px] border-divider-light title_fb7eb">Security Considerations<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#security-considerations">#</a></h2>
<p class="my-4 leading-7">A compliant LTM build tool MUST be designed with a &quot;secure by default&quot; philosophy, protecting users from potentially malicious manifests unless they explicitly opt into dangerous functionality.</p>
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">File System Access:</strong> The <code>$file</code> and <code>$json</code> placeholders can read from the file system. To prevent unauthorized access, a build tool <strong class="font-semibold">MUST</strong> enforce the following rules by default:<!-- -->
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2">All file paths MUST resolve to a location within the same directory as the manifest file, or a subdirectory thereof. Path traversal (<code>../</code>) is forbidden.</li>
<li class="[&amp;:not(:first-child)]:mt-2">Symbolic links MUST NOT be followed.</li>
<li class="[&amp;:not(:first-child)]:mt-2">Broader file system access should only be possible via an explicit flag (e.g., <code>--enable-unsafe-filesystem-access</code>).</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Resource Limits (Anti-DoS):</strong> To prevent Denial-of-Service attacks, a build tool <strong class="font-semibold">MUST</strong> enforce reasonable resource limits by default.<!-- -->
<ul class="list-disc pl-5 my-4 leading-7">
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">File Size:</strong> The maximum size for files read via <code>$file</code> or <code>$json</code> should be limited (e.g., 1 MB).</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Nesting Depth:</strong> The maximum nesting depth for placeholders should be limited (e.g., 3 levels).</li>
<li class="[&amp;:not(:first-child)]:mt-2">These limits should only be removable with an explicit flag (e.g., <code>--enable-unsafe-limits</code>).</li>
</ul>
</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Safe JSON Parsing:</strong> Implementations of LTM parsers MUST use a library that can safely handle large integers (e.g., <code>json-bigint</code> for Node.js) to prevent silent precision loss on 64-bit numbers. Parsers MUST also operate in a strict mode that rejects duplicate keys to prevent malicious or accidental parameter overrides.</li>
<li class="[&amp;:not(:first-child)]:mt-2"><strong class="font-semibold">Circular Dependencies:</strong> A compliant LTM build tool <strong class="font-semibold">MUST</strong> implement a mechanism to detect and reject manifests containing circular placeholder references (e.g., <code>&quot;$const(a)&quot;</code> where <code>a</code> references <code>&quot;$const(b)&quot;</code> and <code>b</code> references <code>&quot;$const(a)&quot;</code>). Failure to do so can result in non-terminating loops and denial-of-service vulnerabilities.</li>
</ul>
<h2 id="copyright" class="mt-12 mb-6 pt-8 text-2xl tracking-tight border-t-[1px] border-divider-light title_fb7eb">Copyright<a class="link_a7cea header-anchor link_a9ef4 inline-link_f855c" aria-hidden="true" href="#copyright">#</a></h2>
<p class="my-4 leading-7">This LIP is licensed under the MIT License.</p><!--/$--></div><div class="rspress-doc-footer"><footer class="mt-8"><div class="xs:flex pb-5 px-2 justify-end items-center"></div><div class="flex flex-col"></div><div class="flex flex-col sm:flex-row sm:justify-around gap-4 pt-6"><div class="prev_c92d1 flex flex-col"><a href="/lips/LIP-0008.html" class="link_a7cea pager-link_e0d2d"><span class="desc_dcc01">Previous Page</span><span class="title_a3acb">LIP-0008: LEA WebAssembly VM&#x27;s Supported Features</span></a></div><div class="next_c11be flex flex-col"><a href="/lips/LIP-0011.html" class="link_a7cea pager-link_e0d2d next_ad355"><span class="desc_dcc01">Next Page</span><span class="title_a3acb">LIP-0011: LEA Public Key Module Interface (LEA-PKMI)</span></a></div></div></footer></div></div><div class="aside-container_bc5fa"><div class="flex flex-col"><div id="aside-container" class="relative text-sm font-medium"><div class="leading-7 block text-sm font-semibold pl-3">ON THIS PAGE</div><nav class="mt-1"><ul class="relative"><li><a href="#abstract" title="Abstract" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:0;font-weight:semibold"><span class="aside-link-text block">Abstract</span></a></li><li><a href="#motivation" title="Motivation" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:0;font-weight:semibold"><span class="aside-link-text block">Motivation</span></a></li><li><a href="#specification" title="Specification" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:0;font-weight:semibold"><span class="aside-link-text block">Specification</span></a></li><li><a href="#1-top-level-structure" title="1. Top-Level Structure" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">1. Top-Level Structure</span></a></li><li><a href="#2-signers-object" title="2. signers Object" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">2. <code>signers</code> Object</span></a></li><li><a href="#3-constants-object" title="3. constants Object" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">3. <code>constants</code> Object</span></a></li><li><a href="#4-invocations-array" title="4. invocations Array" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">4. <code>invocations</code> Array</span></a></li><li><a href="#5-address-vector-and-signature-assembly" title="5. Address Vector and Signature Assembly" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">5. Address Vector and Signature Assembly</span></a></li><li><a href="#6-instructions-array" title="6. instructions Array" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">6. <code>instructions</code> Array</span></a></li><li><a href="#7-placeholder-syntax-for-dynamic-data" title="7. Placeholder Syntax for Dynamic Data" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">7. Placeholder Syntax for Dynamic Data</span></a></li><li><a href="#text-to-binary-decoding" title="Text-to-Binary Decoding" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">Text-to-Binary Decoding</span></a></li><li><a href="#8-general-schema-rules" title="8. General Schema Rules" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">8. General Schema Rules</span></a></li><li><a href="#field-naming-and-case-sensitivity" title="Field Naming and Case Sensitivity" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">Field Naming and Case Sensitivity</span></a></li><li><a href="#comments" title="Comments" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:24px;font-weight:semibold"><span class="aside-link-text block">Comments</span></a></li><li><a href="#9-data-type-handling" title="9. Data Type Handling" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">9. Data Type Handling</span></a></li><li><a href="#full-example" title="Full Example" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:12px;font-weight:semibold"><span class="aside-link-text block">Full Example</span></a></li><li><a href="#rationale" title="Rationale" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:0;font-weight:semibold"><span class="aside-link-text block">Rationale</span></a></li><li><a href="#tooling-recommendations" title="Tooling Recommendations" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:0;font-weight:semibold"><span class="aside-link-text block">Tooling Recommendations</span></a></li><li><a href="#backwards-compatibility" title="Backwards Compatibility" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:0;font-weight:semibold"><span class="aside-link-text block">Backwards Compatibility</span></a></li><li><a href="#security-considerations" title="Security Considerations" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:0;font-weight:semibold"><span class="aside-link-text block">Security Considerations</span></a></li><li><a href="#copyright" title="Copyright" class="aside-link transition-all duration-300 hover:text-text-1 text-text-2 block" style="margin-left:0;font-weight:semibold"><span class="aside-link-text block">Copyright</span></a></li></ul></nav></div></div></div></div></div></div></section></div>
    <div id="search-container"></div>
  </body>
</html>
